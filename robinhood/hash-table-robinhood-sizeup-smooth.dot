digraph table{
    rankdir=LR
    node[shape=plaintext]

    table[label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0">
            <TR>
                <TD BGCOLOR="grey" PORT="h">index</TD>
                <TD BGCOLOR="grey">bucket</TD>
                <TD BGCOLOR="grey">distance</TD>
                <TD BGCOLOR="grey" PORT="k">key</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i0">0</TD>
                <TD BGCOLOR="beige">0</TD>
                <TD BGCOLOR="beige">0</TD>
                <TD BGCOLOR="beige" PORT="k0">10</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i1">1</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue">0</TD>
                <TD BGCOLOR="lightblue" PORT="k1">11</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i2">2</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue" PORT="k2">21</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i3">3</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">1</TD>
                <TD BGCOLOR="beige" PORT="k3">12</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i4">4</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige" PORT="k4">22</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i5">5</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">3</TD>
                <TD BGCOLOR="beige" PORT="k5">32</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="grey" PORT="i6">6</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k6">-</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i7">7</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">0</TD>
                <TD BGCOLOR="lightblue" PORT="k7">17</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i8">8</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue" PORT="k8">27</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i9">9</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">2</TD>
                <TD BGCOLOR="lightblue" PORT="k9">37</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i10">10</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">3</TD>
                <TD BGCOLOR="lightblue" PORT="k10">47</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="grey" PORT="i11">11</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k11">-</TD>
            </TR>          
        </TABLE>
    >]
    
    table2[label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0">
            <TR>
                <TD BGCOLOR="grey" PORT="h">index</TD>
                <TD BGCOLOR="grey">bucket</TD>
                <TD BGCOLOR="grey">distance</TD>
                <TD BGCOLOR="grey" PORT="k">key</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i0">0</TD>
                <TD BGCOLOR="beige">0</TD>
                <TD BGCOLOR="beige">0</TD>
                <TD BGCOLOR="beige" PORT="k0">10</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i1">1</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue">0</TD>
                <TD BGCOLOR="lightblue" PORT="k1">11</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i2">2</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue" PORT="k2">21</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i3">3</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">1</TD>
                <TD BGCOLOR="beige" PORT="k3">12</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i4">4</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige" PORT="k4">22</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i5">5</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">3</TD>
                <TD BGCOLOR="beige" PORT="k5">32</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="grey" PORT="i6">6</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k6">-</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i7">7</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">0</TD>
                <TD BGCOLOR="lightblue" PORT="k7">17</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i8">8</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue" PORT="k8">27</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i9">9</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">2</TD>
                <TD BGCOLOR="lightblue" PORT="k9">37</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i10">10</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">3</TD>
                <TD BGCOLOR="lightblue" PORT="k10">47</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="grey" PORT="i11">11</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k11">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i12">12</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k12">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i13">13</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k13">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i14">14</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k14">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i15">15</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k15">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i16">16</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k16">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i17">17</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k17">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i18">18</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k18">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i19">19</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k19">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i20">20</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k20">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i21">21</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k21">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i22">22</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k22">-</TD>
            </TR>          
        </TABLE>
    >]
        table3[label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0">
            <TR>
                <TD BGCOLOR="grey" PORT="h">index</TD>
                <TD BGCOLOR="grey">bucket</TD>
                <TD BGCOLOR="grey">distance</TD>
                <TD BGCOLOR="grey" PORT="k">key</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i0">0</TD>
                <TD BGCOLOR="beige">0</TD>
                <TD BGCOLOR="beige">0</TD>
                <TD BGCOLOR="beige" PORT="k0">10</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i1">1</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue">0</TD>
                <TD BGCOLOR="lightblue" PORT="k1">11</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i2">2</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue" PORT="k2">21</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i3">3</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">1</TD>
                <TD BGCOLOR="beige" PORT="k3">12</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i4">4</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige" PORT="k4">22</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i5">5</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">3</TD>
                <TD BGCOLOR="beige" PORT="k5">32</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="grey" PORT="i6">6</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k6">-</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i7">7</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">0</TD>
                <TD BGCOLOR="lightblue" PORT="k7">17</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i8">8</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue" PORT="k8">27</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="yellow" PORT="i9">9</TD>
                <TD BGCOLOR="yellow">7</TD>
                <TD BGCOLOR="yellow">2</TD>
                <TD BGCOLOR="yellow" PORT="k9">47</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="yellow" PORT="i10">10</TD>
                <TD BGCOLOR="yellow">-</TD>
                <TD BGCOLOR="yellow">-1</TD>
                <TD BGCOLOR="yellow" PORT="k10">-</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="grey" PORT="i11">11</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k11">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i12">12</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k12">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i13">13</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k13">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i14">14</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k14">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i15">15</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k15">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i16">16</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k16">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="yellow" PORT="i17">17</TD>
                <TD BGCOLOR="yellow">17</TD>
                <TD BGCOLOR="yellow">0</TD>
                <TD BGCOLOR="yellow" PORT="k17">37</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i18">18</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k18">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i19">19</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k19">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i20">20</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k20">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i21">21</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k21">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i22">22</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k22">-</TD>
            </TR>          
        </TABLE>
    >]

    table4[label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0">
            <TR>
                <TD BGCOLOR="grey" PORT="h">index</TD>
                <TD BGCOLOR="grey">bucket</TD>
                <TD BGCOLOR="grey">distance</TD>
                <TD BGCOLOR="grey" PORT="k">key</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i0">0</TD>
                <TD BGCOLOR="beige">0</TD>
                <TD BGCOLOR="beige">0</TD>
                <TD BGCOLOR="beige" PORT="k0">10</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i1">1</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue">0</TD>
                <TD BGCOLOR="lightblue" PORT="k1">11</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i2">2</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue" PORT="k2">21</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i3">3</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">1</TD>
                <TD BGCOLOR="beige" PORT="k3">12</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i4">4</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige" PORT="k4">22</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="beige" PORT="i5">5</TD>
                <TD BGCOLOR="beige">2</TD>
                <TD BGCOLOR="beige">3</TD>
                <TD BGCOLOR="beige" PORT="k5">32</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="grey" PORT="i6">6</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k6">-</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="yellow" PORT="i7">7</TD>
                <TD BGCOLOR="yellow">7</TD>
                <TD BGCOLOR="yellow">0</TD>
                <TD BGCOLOR="yellow" PORT="k7">47</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="lightblue" PORT="i8">8</TD>
                <TD BGCOLOR="lightblue">7</TD>
                <TD BGCOLOR="lightblue">1</TD>
                <TD BGCOLOR="lightblue" PORT="k8">27</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="yellow" PORT="i9">9</TD>
                <TD BGCOLOR="yellow">-</TD>
                <TD BGCOLOR="yellow">-1</TD>
                <TD BGCOLOR="yellow" PORT="k9">-</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="yellow" PORT="i10">10</TD>
                <TD BGCOLOR="yellow">-</TD>
                <TD BGCOLOR="yellow">-1</TD>
                <TD BGCOLOR="yellow" PORT="k10">-</TD>
            </TR>           
            <TR>
                <TD BGCOLOR="grey" PORT="i11">11</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k11">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i12">12</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k12">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i13">13</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k13">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i14">14</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k14">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i15">15</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k15">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i16">16</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k16">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="yellow" PORT="i17">17</TD>
                <TD BGCOLOR="yellow">17</TD>
                <TD BGCOLOR="yellow">0</TD>
                <TD BGCOLOR="yellow" PORT="k17">37</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="yellow" PORT="i18">18</TD>
                <TD BGCOLOR="yellow">17</TD>
                <TD BGCOLOR="yellow">1</TD>
                <TD BGCOLOR="yellow" PORT="k18">17</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i19">19</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k19">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i20">20</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k20">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i21">21</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k21">-</TD>
            </TR>          
            <TR>
                <TD BGCOLOR="grey" PORT="i22">22</TD>
                <TD BGCOLOR="grey">-</TD>
                <TD BGCOLOR="grey">-1</TD>
                <TD BGCOLOR="grey" PORT="k22">-</TD>
            </TR>          
        </TABLE>
    >]

    table_name [label="table size=10"]
    {rank=same table_name table}
    #table_name -> table [style=invis]
    table2_name [label="table size=20"]
    {rank=same table2_name table2}
    #table2_name -> table2 [style=invis]
    "overflow begin" -> table:i10
    "overflow begin " -> table2:i20 
    "remap_end" -> table2:i11
   table:k  -> table2:h [label= "table_size \n10 -> 20"]
   table2:k9 -> table3:i17 [label="remap(9)"]
   "remap_end\nafter remap(9)" -> table3:i8
    table3:k10 -> "reposition(47)" -> table3:k9
    table3:k7 -> table4:i18[label="remap(7)"]
    table4:k9 -> "reposition(47) " -> table4:k7
    "remap_end\nafter remap(7)" ->table4:i6
}